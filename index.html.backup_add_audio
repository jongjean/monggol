<!DOCTYPE html>
<html lang="ko">
<head>
    <style>
        * {
            touch-action: none;
            -webkit-user-select: none;
            user-select: none;
        }
        body, html {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }



    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ëª½ê³¨,<br><span style="font-size:35px;">í‘¸ë¥¸ëŠ‘ëŒ€ì˜ í›„ì˜ˆ</span> - ëª½ê³¨ ëŒ€ìì—° ì‚¬ì§„ì „</title>
    <link rel="stylesheet" href="css/style.css?v=1766740086">
    <link rel="stylesheet" href="css/popup.css">
<style>
.gallery-top-left-ui {
  position: fixed !important;
  top: 20px !important;
  left: 20px !important;
  z-index: 999999 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 15px !important;
  pointer-events: auto !important;
  width: 220px !important;
}

.docent-video-ui {
  display: block !important;
  width: 200px !important;
  height: 300px !important;
  object-fit: cover;
  border-radius: 15px;
  border: 4px solid rgba(212,175,55,0.9);
  box-shadow: 0 8px 25px rgba(0,0,0,0.7);
  cursor: pointer;
  transition: transform 0.3s ease;
}

.docent-video-ui:hover {
  transform: scale(1.02);
  box-shadow: 0 10px 30px rgba(212,175,55,0.5);
}

.title-block-ui {
  display: block !important;
  padding: 10px;
  background: rgba(20,20,20,0.8);
  border-radius: 8px;
  border: 2px solid rgba(212,175,55,0.6);
}
.title-block-right {
  width: auto !important;
  margin: 0 0 15px 0 !important;
  padding: 15px 20px !important;
  background: rgba(0, 0, 0, 0.7) !important;
  border: 2px solid rgba(212, 175, 55, 0.8) !important;
  border-radius: 8px !important;
  box-sizing: border-box !important;
}


.main-title-ui {
  display: block !important;
  font-size: 28px !important;
  font-weight: 700;
  color: rgba(255,255,255,0.95) !important;
  margin: 0 0 8px 0;
  text-shadow: 0 4px 12px rgba(0,0,0,0.8);
  line-height: 1.2;
}

.subtitle-ui {
  display: block !important;
  font-size: 16px !important;
  font-weight: 300;
  color: rgba(255,255,255,0.8) !important;
  margin: 0;
  text-shadow: 0 3px 10px rgba(0,0,0,0.7);
  line-height: 1.3;
}

.greeting-player-fixed {
  display: block !important;
  background: rgba(20,20,20,0.9) !important;
  padding: 8px 12px;
  border-radius: 8px;
  width: 200px !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.6);
  border: 2px solid rgba(212,175,55,0.7);
}

.progress-container {
  display: block !important;
  width: 100%;
  margin-bottom: 8px;
}

.progress-bar {
  display: block !important;
  width: auto !important;
  height: 6px !important;
  -webkit-appearance: none;
  background: rgba(255,255,255,0.2);
  border-radius: 3px;
  cursor: pointer;
  outline: none;
}

.progress-bar::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 12px;
  height: 12px;
  background: #d4af37;
  border-radius: 50%;
  cursor: pointer;
}

.player-controls {
  display: flex !important;
  align-items: center;
  gap: 8px;
  justify-content: space-between;
}

.player-left {
  display: flex !important;
  align-items: center;
  gap: 6px;
  flex: 1;
}

.player-title {
  display: inline-block !important;
  font-size: 11px !important;
  color: #d4af37 !important;
  font-weight: 400;
}

.control-btn {
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  background: rgba(212,175,55,0.8) !important;
  border: none;
  border-radius: 4px;
  width: 24px !important;
  height: 24px !important;
  font-size: 12px;
  color: white !important;
  cursor: pointer;
  transition: background 0.2s;
}

.control-btn:hover {
  background: rgba(212,175,55,1) !important;
}

.time-display {
  display: inline-block !important;
  font-size: 10px !important;
  color: rgba(255,255,255,0.8) !important;
  font-family: monospace;
  white-space: nowrap;
}

@media (max-width: 768px) {
  .gallery-top-left-ui {
    top: 15px !important;
    left: 15px !important;
    gap: 10px !important;
    width: 160px !important;
  }
  
  .docent-video-ui {
    width: 140px !important;
    height: 210px !important;
  }
  
  .main-title-ui {
    font-size: 20px !important;
  }
  
  .subtitle-ui {
    font-size: 12px !important;
  }
  
  .greeting-player-fixed {
    width: 140px !important;
  }
}



</style>
</head>
<body>
<!-- ì¢Œìƒë‹¨ í”„ë ˆì„ -->
<div id="permanent-top-frame" style="position:fixed;top:20px;left:20px;width:290px;background:rgba(0,0,0,0.9);border:3px solid rgba(212,175,55,0.9);border-radius:10px;z-index:9999999;display:block;overflow:hidden;box-shadow:0 8px 30px rgba(0,0,0,0.8);">
  <!-- 1. ì œëª© ë¸”ë¡ -->
  <div style="position:relative;padding:15px 20px;background:rgba(212,175,55,0.15);border-bottom:2px solid rgba(212,175,55,0.5);">
    <h1 style="font-size:38px;color:white;margin:0 0 5px 0;font-weight:700;">ëª½ê³¨,<br><span style="font-size:35px;">í‘¸ë¥¸ëŠ‘ëŒ€ì˜ í›„ì˜ˆ</span></h1>
    <p style="font-size:18px;color:rgba(255,255,255,0.8);margin:0;font-weight:300;">ë‹¤íë©˜í„°ë¦¬ 'ëª½ê³¨' ì‚¬ì§„ê°€ ê°•ì¢…ì§„</p>
    <button id="perm-minimize-btn" style="position:absolute;top:10px;right:10px;background:rgba(212,175,55,0.8);border:none;border-radius:4px;width:28px;height:28px;color:white;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0,0,0,0.3);">â–²</button>
  </div>
  <!-- 2. ë™ì˜ìƒ -->
  <video src="images/guide_riding.mp4" style="width:100%;height:500px;object-fit:cover;display:block;border-bottom:2px solid rgba(212,175,55,0.5);" autoplay loop muted playsinline></video>
  <!-- 3. ì»¨íŠ¸ë¡¤ëŸ¬ -->
  <div style="padding:12px 15px;background:rgba(0,0,0,0.6);">
    <div style="background:rgba(50,50,50,0.5);border-radius:4px;height:4px;margin-bottom:8px;overflow:hidden;">
      <div id="perm-progress" style="width:0%;height:100%;background:rgba(212,175,55,0.8);transition:width 0.1s;"></div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div>
        <span style="font-size:11px;color:white;margin-right:8px;">ì¸ì‚¬</span>
        <button id="perm-play" style="background:rgba(212,175,55,0.8);border:none;border-radius:4px;padding:5px 10px;color:white;font-size:12px;cursor:pointer;">â–¶</button>
        <button id="perm-pause" style="background:rgba(212,175,55,0.8);border:none;border-radius:4px;padding:5px 10px;color:white;font-size:12px;cursor:pointer;display:none;">â¸</button>
        <button id="perm-stop" style="background:rgba(100,100,100,0.8);border:none;border-radius:4px;padding:5px 10px;color:white;font-size:12px;cursor:pointer;">â¹</button>
      </div>
      <span id="perm-time" style="font-size:11px;color:white;">0:00</span>
    </div>
</div>
<audio id="perm-audio" src="audio/greeting.mp3"></audio>

<!-- 3D ê°¤ëŸ¬ë¦¬ ì¢Œìƒë‹¨ UI -->
      <span id="time-display-fixed" class="time-display">0:00</span>
    </div>
  </div>
</div>



</div>

  </div>
</div>
    <!-- 3D ê°¤ëŸ¬ë¦¬ ê³ ì • ë„ìŠ¨íŠ¸ (ê°¤ëŸ¬ë¦¬ ë‚´ë¶€ì—ì„œë§Œ í‘œì‹œ) -->
    <!-- Loading Screen -->
    </div>

    <!-- Opening Scene -->
    <div id="opening-scene">
        <div class="opening-background"></div>
        <div class="opening-content" style="margin-top:70px !important;">
            <h2 class="title-sub">Beyond the Endless Horizon</h2>
            <p class="title-desc">ëª½ê³¨ ëŒ€ìì—° ì‚¬ì§„ì „ | Mongolian Nature Photography Exhibition</p>
            <button id="enter-btn" class="enter-button">ì „ì‹œê´€ ì…ì¥</button>
        </div>
    </div>

    <!-- Main Exhibition Space -->
    <div id="exhibition-space" class="hidden">
        <!-- Three.js Canvas -->
        <!-- UI Overlay -->
        <div id="ui-overlay">
            <div class="top-bar">
                <button id="info-toggle" class="icon-btn">â„¹ï¸</button>
            </div>

            <div class="controls-hint">
                <p>ğŸ–±ï¸ ë§ˆìš°ìŠ¤ ë“œë˜ê·¸: ë‘˜ëŸ¬ë³´ê¸° | ğŸ¯ í´ë¦­: ì‘í’ˆ ê°ìƒ</p>
            </div>

            <!-- Mini Map (Optional) -->
            <div id="minimap" class="minimap hidden">
            </div>

        <!-- Artwork Popup -->
        <div id="artwork-popup" class="hidden">
            <div class="popup-overlay"></div>
            <div class="popup-content">
                <button class="close-btn">âœ•</button>
                <div class="artwork-container">
                    <img id="popup-image" src="" alt="">
                </div>
                <div class="artwork-info">
                    <h2 id="artwork-title"></h2>
                    <p id="artwork-location"></p>
                    <div class="audio-player">
                        <button id="play-audio" class="audio-btn">â–¶ï¸ AI ë„ìŠ¨íŠ¸ ë“£ê¸°</button>
                        <div id="audio-progress" class="audio-progress hidden">
                            <div class="audio-bar"></div>
                        </div>
                    </div>
                    <div id="subtitle-box" class="subtitle-box hidden">
                        <p id="subtitle-text"></p>
                    </div>
                </div>
                <div class="navigation-arrows">
                    <button id="prev-artwork" class="nav-btn">â† ì´ì „</button>
                    <button id="next-artwork" class="nav-btn">ë‹¤ìŒ â†’</button>
                </div>
            </div>
        </div>

        <!-- Info Panel -->
        <div id="info-panel" class="info-panel hidden">
            <div class="info-content">
                <h3>ì „ì‹œ ì•ˆë‚´</h3>
                <p>í—™ìŠ¤ê±¸ í˜¸ìˆ˜ë¥¼ ë°°ê²½ìœ¼ë¡œ í¼ì³ì§€ëŠ” ëª½ê³¨ì˜ ì•„ë¦„ë‹¤ìš´ ìˆœê°„ë“¤</p>
                <h4>ì¡°ì‘ ë°©ë²•</h4>
                <ul>
                    <li>ë§ˆìš°ìŠ¤ ë“œë˜ê·¸: ì‹œì  íšŒì „</li>
                    <li>ìŠ¤í¬ë¡¤: ì´ë™</li>
                    <li>ì‘í’ˆ í´ë¦­: ìƒì„¸ ë³´ê¸°</li>
                    <li>ESC: ë‹«ê¸°</li>
                </ul>
                <button id="close-info" class="close-info-btn">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <!-- Ending Scene (Guestbook) -->
    <div id="ending-scene" class="hidden">
        <div class="ending-content">
            <h2>ê´€ëŒí•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤</h2>
            <p>ëª½ê³¨ì˜ ìˆœìˆ˜í•œ ìì—°ì´ ì—¬ëŸ¬ë¶„ì˜ ë§ˆìŒì— ë‚¨ê¸°ë¥¼ ë°”ëë‹ˆë‹¤</p>
            <button id="restart-btn" class="restart-btn">ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë³´ê¸°</button>
        </div>
    </div>

    <!-- Scripts -->





    <script src="js/three.min.js"></script>
    





    <script src="js/main_v16.js"></script>
    <!-- Three.js Library -->
    
    <!-- Scene Script -->
    
    
    <!-- Main App Script -->
</div>
<script>
// ìµœì†Œí™” ê¸°ëŠ¥
(function() {
  const minimizeBtn = document.getElementById("perm-minimize-btn");
  const permVideo = document.querySelector("#permanent-top-frame video");
  let isMinimized = false;

  if (minimizeBtn && permVideo) {
    minimizeBtn.addEventListener("click", () => {
      isMinimized = !isMinimized;
      if (isMinimized) {
        permVideo.style.display = "none";
        minimizeBtn.textContent = "â–¼";
      } else {
        permVideo.style.display = "block";
        minimizeBtn.textContent = "â–²";
      }
    });
  }
})();

(function() {
  const audio = document.getElementById("perm-audio");
  const playBtn = document.getElementById("perm-play");
  const pauseBtn = document.getElementById("perm-pause");
  const stopBtn = document.getElementById("perm-stop");
  const progress = document.getElementById("perm-progress");
  const timeDisplay = document.getElementById("perm-time");
  
  if (!audio || !playBtn) return;
  
  playBtn.addEventListener("click", () => {
    audio.play();
    playBtn.style.display = "none";
    pauseBtn.style.display = "inline-block";
  });
  
  pauseBtn.addEventListener("click", () => {
    audio.pause();
    pauseBtn.style.display = "none";
    playBtn.style.display = "inline-block";
  });
  
  stopBtn.addEventListener("click", () => {
    audio.pause();
    audio.currentTime = 0;
    pauseBtn.style.display = "none";
    playBtn.style.display = "inline-block";
  });
  
  audio.addEventListener("timeupdate", () => {
    const percent = (audio.currentTime / audio.duration) * 100;
    progress.style.width = percent + "%";
    const mins = Math.floor(audio.currentTime / 60);
    const secs = Math.floor(audio.currentTime % 60);
    const totalMins = Math.floor(audio.duration / 60);
    const totalSecs = Math.floor(audio.duration % 60);
    timeDisplay.textContent = mins + ":" + (secs < 10 ? "0" : "") + secs + " / " + totalMins + ":" + (totalSecs < 10 ? "0" : "") + totalSecs;
  });
  
  audio.addEventListener("ended", () => {
    pauseBtn.style.display = "none";
    playBtn.style.display = "inline-block";
    progress.style.width = "0%";
  });
})();





</script>
</body>
</html>
